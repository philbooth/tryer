!function(n){"use strict";function t(n){function t(){if(i()){if(d(n))return j(n),e();j(n,function(){e()})}}function i(){return u("when")}function u(r){return g(n,r)?(v(n),x(n)?h(n):A(t,b(n)),!1):!0}function e(){u("until")&&w(n)}n=r(n),t()}function r(n){return{count:0,when:i(n.when),until:i(n.until),action:o(n.action),fail:o(n.fail),pass:o(n.pass),interval:a(n.interval,-1e3),limit:a(n.limit,-1),context:s(n.context),args:m(n.args)}}function i(n){return f(n,u,e)}function u(n){return"function"==typeof n}function e(){return!0}function o(n){return f(n,u,c)}function c(){}function f(n,t,r){return t(n)?n:r}function a(n,t){return f(n,l,t)}function l(n){return"number"==typeof n&&n===n}function s(n){return f(n,p,{})}function p(n){return"object"==typeof n&&null!==n&&y(n)===!1}function y(n){return Array.isArray?Array.isArray(n):"[object Array]"===Object.prototype.toString.call(n)}function m(n){return f(n,y,[])}function d(n){return 0===n.action.length}function g(n,t){return!n[t].apply(n.context,n.args)}function v(n){n.count+=1}function x(n){return n.limit>=0&&n.count>=n.limit}function h(n){n.fail.apply(n.context,n.args)}function b(n){var t=n.interval;return n.interval<0&&(n.interval*=2),t}function A(n,t){setTimeout(n,Math.abs(t))}function j(n,t){n.action.apply(n.context,t?n.args.concat(t):n.args)}function w(n){n.pass.apply(n.context,n.args)}function M(){"function"==typeof define&&define.amd?define(function(){return O}):"undefined"!=typeof module&&null!==module?module.exports=O:n.trier=O}var O={attempt:t};M()}(this);